<template>
  <div class="contents">
    <obg-cover-flow
      @input="onInput"
      class="cover-flow"
      :style="{left:'36px', width: '84%'}"
      :display=7
      v-model="value"
    >
      <obg-cover-slide
        v-for="n in 11" :index="n-1"
        class="slide-background"
        :label="'slide - ' + n"
        :content="n + ' - desc'"
        @click="onClickItem"
      >
        Slide {{n}} Content
        </obg-cover-slide>
    </obg-cover-flow>
    <div class="label">
      <label>current Index : {{index}}</label>
      <label>selected Item : {{selectedItemIndex}}</label>
      <obg-button type='round' @click="onClickUp"> up </obg-button>
      <obg-button type='round' @click="onClickDown"> down </obg-button>
    </div>

  </div>
</template>

<script>
  import {coverFlowPortrait, coverSlide} from '../components/cover-flow-portrait'
  import button from '../components/button'

  export default {
    name: 'template',
    components: {
      'obg-cover-flow': coverFlowPortrait,
      'obg-cover-slide': coverSlide,
      'obg-button': button
    },
    data () {
      return {
        index: -1,
        selectedItemIndex: -1,
        value: -1
      }
    },
    methods: {
      onInput (val) {
        this.index = val
      },
      onClickUp () {
        if (this.value <= 0) {
          this.value = 10
        } else {
          this.value -= 1
        }
      },
      onClickDown () {
        if (this.value >= 10) {
          this.value = 0
        } else {
          this.value += 1
        }
      },
      onClickItem (val) {
        this.selectedItemIndex = val
      }
    }
  }
</script>
<style lang='scss' scoped>
  .contents {
    position: relative;
    width: 480px;
    height: 896px;
    background: #2a2a2a;
    color: #ffffff;
  }
  .cover-flow{
    position:absolute;
  }
  .label{
    position: absolute;
    top: 10px;
    left: 350px;
    & > button {
      display:block;
      margin-left: 30px;
    }
  }
  .slide-background{
    background:url('../page/assets/sample.jpg');
    background-repeat: no-repeat;
    background-size: cover;
  }
</style>
