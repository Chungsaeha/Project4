<template>
  <div class="contents">
    <obg-button @click='showNormalPopup' >Normal Popup</obg-button>
    <obg-button @click='showNoBtnPopup' >No Button Popup</obg-button>
    <obg-button @click='showProgressPopup' >Progress Popup</obg-button>

  </div>
</template>

<script>
  import popup from '../components/popup'
  import button from '../components/button'

  export default {
    name: 'template',
    components: {
      'obg-button': button
    },
    methods: {
      showNormalPopup () {
        var normalP = popup.show({
          title: 'Popup title',
          content: 'Popup content. hello I\'m fine thank\nhello',
          buttons: [{
            label: 'Close',
            onClick: function () {
              normalP.close()
            }
          }, {
            label: 'Close2',
            onClick: function () {
              normalP.close()
            }
          }]
        })
      },
      showNoBtnPopup () {
        popup.show({
          title: 'Popup title',
          content: 'Popup content. hello I\'m fine thank\nthis is no button popup.'
        })
      },
      showProgressPopup () {
        var initProgress = 10
        var progressP = popup.show({
          type: 'progress',
          progress: initProgress,
          title: 'Popup title',
          content: 'Popup content. hello I\'m fine thank',
          button: {
            label: 'Close',
            onClick: function () {
              progressP.close()
              clearInterval(updateT)
            }
          }
        })
        var updateT = setInterval(function () {
          initProgress = initProgress + Math.ceil((Math.random() * 10))
          if (initProgress > 100) {
            initProgress = 100
            clearInterval(updateT)
          }
          progressP.updateProgress(initProgress)
        }, 300)
      }
    }
  }
</script>
<style lang='scss' scoped>
  .contents{
    position: relative;
    width: 800px;
    height: 480px;
    background:#2a2a2a;
    color: #ffffff;
  }
  .to-main{
    position:fixed;
    top:800px;
    left:10px;
  }
  .first{
    margin-top:10px;
  }
</style>
