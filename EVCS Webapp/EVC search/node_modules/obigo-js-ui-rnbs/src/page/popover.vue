<template>
  <div class="contents">
    <div class="anchor-button">
      <obg-button >
        click me
        <obg-popover
          ref="popover"
          :anchor="anchor"
          :self="self"
          class="popover"
          @open="onOpen"
          @close="onClose"
        >
            <div
              class="item"
              v-for="n in 5"
              @click="onItemClick"
              :index="n"
            >
              <div class="item-content">
                Label {{n}} <span> {{n}}</span>
              </div>
            </div>
        </obg-popover>
      </obg-button>
    </div>
    <p class="text-center">
      <span>anchor="{{anchor}}" /</span>
      <span>self="{{self}}"</span>
      <br/>
      <span>status= {{status}} /</span>
      <span>click item= {{clickedItemIndex}}</span>
    </p>
    <div class="setting anchor-origin">
      <p class="caption">Anchor Origin</p>
      <div class="flex">
        <div class="column group">
          <div>Vertical</div>
          <label>
            <obg-radio v-model="anchorOrigin.vertical" val="top"></obg-radio>
            Top
          </label>
          <label>
            <obg-radio v-model="anchorOrigin.vertical" val="center"></obg-radio>
            Center
          </label>
          <label>
            <obg-radio v-model="anchorOrigin.vertical" val="bottom"></obg-radio>
            Bottom
          </label>
        </div>
        <div class="column group">
          <div>Horizontal</div>
          <label>
            <obg-radio v-model="anchorOrigin.horizontal" val="left"></obg-radio>
            Left
          </label>
          <label>
            <obg-radio v-model="anchorOrigin.horizontal" val="middle"></obg-radio>
            Middle
          </label>
          <label>
            <obg-radio v-model="anchorOrigin.horizontal" val="right"></obg-radio>
            Right
          </label>
        </div>
      </div>
    </div>
    <div class="setting self-origin">
      <p class="caption">Self Origin</p>
      <div class="flex">
        <div class="column group">
          <div>Vertical</div>
          <label>
            <obg-radio v-model="selfOrigin.vertical" val="top"></obg-radio>
            Top
          </label>
          <label>
            <obg-radio v-model="selfOrigin.vertical" val="center"></obg-radio>
            Center
          </label>
          <label>
            <obg-radio v-model="selfOrigin.vertical" val="bottom"></obg-radio>
            Bottom
          </label>
        </div>
        <div class="column group">
          <div>Horizontal</div>
          <label>
            <obg-radio v-model="selfOrigin.horizontal" val="left"></obg-radio>
            Left
          </label>
          <label>
            <obg-radio v-model="selfOrigin.horizontal" val="middle"></obg-radio>
            Middle
          </label>
          <label>
            <obg-radio v-model="selfOrigin.horizontal" val="right"></obg-radio>
            Right
          </label>
        </div>
      </div>
    </div>

  </div>
</template>

<script>
  import button from '../components/button'
  import popover from '../components/popover'
  import radio from '../components/radio'

  export default {
    name: 'template',
    components: {
      'obg-button': button,
      'obg-popover': popover,
      'obg-radio': radio
    },
    data () {
      return {
        anchorOrigin: {vertical: 'bottom', horizontal: 'left'},
        selfOrigin: {vertical: 'top', horizontal: 'left'},
        status: 'close',
        clickedItemIndex: -1
      }
    },
    computed: {
      anchor () {
        return `${this.anchorOrigin.vertical} ${this.anchorOrigin.horizontal}`
      },
      self () {
        return `${this.selfOrigin.vertical} ${this.selfOrigin.horizontal}`
      }
    },
    methods: {
      onOpen () {
        this.status = 'open'
      },
      onClose () {
        this.status = 'close'
      },
      onItemClick (e) {
        this.clickedItemIndex = e.currentTarget.attributes.index.value
      }
    }
  }
</script>
<style lang='scss' scoped>
  .contents {
    position: relative;
    width: 800px;
    height: 480px;
    background: #2a2a2a;
    color: #ffffff;
    .anchor-button{
      position: relative;
      left: 35%;
      top: 30%;
    }
  }
  .text-center{
    position: absolute;
    top: 250px;
    width: 100%;
    text-align: center;
    font-size: 20px;
    color: #00D4FF;
  }
  .setting{
    width: 300px;
    display: inline-block;
    top: 280px;
    position: relative;
    > p, div{
      margin:5px;
    }
  }
  .buttons {
    display:block;
    position:relative;
    margin:10px;
  }
  .popover{
    width:200px;
    height:150px;
    background: white;
    & > div {
      display: flex;
      align-items: center;
      height:30px;
      text-indent: 10px;
      &:nth-child(even){
        background: grey;
      }
      &:active{
        background: #00596b;
        color:white
      }
    }
  }
</style>
