<template>
    <div class="contents">
      <obg-cover-flow
        @input="onInput"
        class="cover-flow"
        v-model="value"
      >
        <obg-cover-slide v-for="n in 11" :index="n-1" class="slide-background" @click="onClickItem">
          Slide {{n}} Content
        </obg-cover-slide>
      </obg-cover-flow>
      <div class="label">
        <label>current Index : {{index}}</label>
        <label>selected Item : {{selectedItemIndex}}</label>
        <obg-button type='round' @click="onClickLeft"> < </obg-button>
        <obg-button type='round' @click="onClickRight"> > </obg-button>
      </div>
    </div>
</template>

<script>
  import {coverFlow, coverSlide} from '../components/cover-flow'
  import button from '../components/button'

  export default {
    name: 'template',
    components: {
      'obg-cover-flow': coverFlow,
      'obg-cover-slide': coverSlide,
      'obg-button': button
    },
    data () {
      return {
        index: -1,
        selectedItemIndex: -1,
        value: -1
      }
    },
    methods: {
      onInput (val) {
        this.index = val
      },
      onClickLeft () {
        if (this.value <= 0) {
          this.value = 10
        } else {
          this.value -= 1
        }
      },
      onClickRight () {
        if (this.value >= 10) {
          this.value = 0
        } else {
          this.value += 1
        }
      },
      onClickItem (val) {
        this.selectedItemIndex = val
      }
    }
  }
</script>
<style lang='scss' scoped>
  .contents {
    position: relative;
    width: 800px;
    height: 480px;
    background: #2a2a2a;
    color: #ffffff;
  }
  .cover-flow{
    position:absolute;
    top:100px;
  }
  .label{
    position: absolute;
    top: 10px;
    & > button {
      display:inline-block;
    }
  }
  .slide-background{
    background:url('../page/assets/sample.jpg');
    background-repeat: no-repeat;
    background-size: contain;
  }

</style>
