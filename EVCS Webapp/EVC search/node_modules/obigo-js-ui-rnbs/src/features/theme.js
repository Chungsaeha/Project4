import Utils from '../utils'
import Events from './events'

class Theme {
  constructor (theme) {
    this.currentTheme = theme
    Utils.dom.ready(() => {
      console.log('add theme to body')
      document.body.classList.add('obg-theme-' + this.currentTheme)
    })
  }
  set (theme) {
    document.body.classList.remove('obg-theme-' + this.currentTheme)
    this.currentTheme = theme
    document.body.classList.add('obg-theme-' + this.currentTheme)
    Events.$emit('theme:update', {
      name: this.currentTheme
    })
  }
  get () {
    return this.currentTheme
  }
  replaceClass (theme) {
    document.body.classList.remove('obg-theme-' + theme)
    document.body.classList.add('obg-theme-' + this.currentTheme)
  }
}

export var current = new Theme('basic')
