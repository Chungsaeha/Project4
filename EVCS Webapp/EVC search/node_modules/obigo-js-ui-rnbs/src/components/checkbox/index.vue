<template>
  <label class='obg-checkbox' >
    <span :class="{disabled: disabled}" class='obg-checkbox-icon' >
        <input type="checkbox" @click.stop :value='val'  :disabled="disabled" v-model="model" >
        <div >
          <svg v-if='model'  height="24px" id="Layer_1" version="1.1" viewBox="0 0 24 24" width="24px" ><path clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" /></svg>
        </div>
    </span>
    <span class='obg-checkbox-label' :class='{"no-content":existContent}'><slot></slot></span>
  </label>
</template>
<script>
/**
 * obg-checkbox
 * @class checkbox
 * @classdesc components/checkbox
 * @param {boolean} [v-model=true]
 * @param {boolean} [disabled=false]
 *
 * @example
 * <obg-checkbox v-model='value' @input='func' />
 */
export default {
  name: 'obg-checkbox',
  props: {
    value: {
      required: true
    },
    val: {
    },
    disabled: Boolean
  },
  computed: {
    model: {
      get () {
        return this.value
      },
      set (value) {
        this.$emit('input', value)
      }
    },
    existContent: {
      get () {
        return this.$slots.default === undefined
      }
    }
  },
  methods: {
    toggle () {
      if (!this.disabled) {
        this.model = !this.model
      }
    }
  }
}
</script>

<style lang="scss">
.obg-checkbox{
  display:inline-block;
  .obg-checkbox-icon{
    display:block;
    float:left;
    width:26px;
    height:26px;

    input{
        display:none !important;
    }
    input + div{
        border:1px solid #292929;
        display:block;
        position:relative;
        background-color:white;
        width:100%;
        height:100%;
        svg{
          margin:auto;
        }
    }
    input:checked + div{
      svg{
        path  {
          fill:#00d4ff;
        }
      }
    }
    input:disabled + div{
        background-color:#898989;
        svg{
          path  {
            fill:#595959;
          }
        }
    }
  }
  .obg-checkbox-label {
    padding-top:4px;
    padding-left:4px;
    font-size:22px;
    float:left;
    display:block;
    &.no-content{
      padding:0;
    }
  }
}
</style>
