<template>
  <label class="obg-radio" :class="{disable: disabled, focus: focus}">
    <input type="radio" v-model="model" :value="val" :disabled="disabled">
    <div></div>
  </label>
</template>

<script>
  /**
   * @class radio
   * @classdesc components/radio
   * @param {any} [v-model]
   * @param {number} [val]
   * @param {boolean} [focus=false]
   * @param {boolean} [disabled=false]
   * @event {string} [input]
   *
   * @example
   * import radio from 'obigo-js-ui/components/radio'
   * <obg-radio
   *  v-model="model"
   *  :val="1st"
   *  @input="onInput"
   *  ></obg-radio>
   *  <obg-radio
   *  v-model="model"
   *  :val="2nd"
   *  @input="onInput"
   *  ></obg-radio>
   */
  export default {
    name: 'obg-radio',
    props: {
      value: {
        required: true
      },
      val: {
        required: true
      },
      disabled: {
        type: Boolean,
        default: false
      },
      focus: {
        type: Boolean,
        default: true
      }
    },
    computed: {
      model: {
        get () {
          return this.value
        },
        set (value) {
          this.$emit('input', value)
        }
      }
    }
  }
</script>
<style lang="scss" scoped>
  @import '../../styles/colors.variables.scss';
  .obg-radio{
    display: inline-block;
    height: 30px;
    width: 30px;
    vertical-align: middle;
    &.disable {
      user-select: none;
      opacity: 0.4;
      pointer-events: none;
    }
    & > input {
      display: none !important;
    }
    & > input + div {
      position: relative;
      &:before, &:after {
        content:'';
        position:absolute;
        top:0;
        left:0;
        border-radius:50%;
        box-sizing:border-box;
      }
      &:before{
        width:30px;
        height:30px;
        border:3px solid transparent;
        background: color(white);
      }
      &:after{
        width: 18px;
        height: 18px;
        top: 6px;
        left: 6px;
      }
    }
    & > input:checked + div {
      &:after{
        background: color(primary);
      }
    }
    &:active > input + div{
      &:before{
        background: color(secondary);
      }
      &:after{
        background: color(white);
      }
    }
    &.focus > input + div {
      &:before{
        border: 3px solid color(primary);
      }
      &:active{
        &:before{
          border: 3px solid color(secondary);
        }
      }
    }
  }




</style>
