<template>
  <label class='container' :class='{disabled: disabled}'  >
    <input type="checkbox" @click.stop  :disabled="disabled" :value='val' v-model="model">
    <div class="outer" >
      <div class='area' >
        <div class='indicator' > </div>
      </div>
    </div>
  </label>
</template>

<script>
/**
 * @class toggle
 * @classdesc components/toggle
 * @param {boolean} [v-model=true]
 * @param {boolean} [disabled=false]
 *
 *
 * @example
 * import 'obigo-js-ui/components/toggle'
 * <obg-toggle ></obg-toggle>
 */
export default {
  name: 'obg-toggle',
  methods: {
    toggle () {
      if (!this.disabled) {
        this.model = !this.model
      }
    }
  },
  computed: {
    model: {
      get () {
        return this.value
      },
      set (value) {
        this.$emit('input', value)
      }
    }
  },
  props: {
    value: {
      required: true
    },
    val: {
    },
    disabled: Boolean
  }
}
</script>

<style lang="scss" scoped >
.container{
  width:68px;
  display:block;
  height:38px;

  &.disabled{
    .area{
      background-color:#a9a9a9 !important;
      .indicator{
        background-color:#595959 !important;
      }
    }
  }

  &:not(.disabled):active{
    .area{
      background-color:rgb(0, 89, 107) !important;
    }
  }

  input{
      display:none !important;
  }
  input:checked + .outer{
    .area{
      background-color:#00d4ff;

      .indicator{
        right:2px;
      }
    }

  }
  input:not(:checked) + .outer{
    .area{
      background-color:#595959;

      .indicator{
        left:2px;
      }
    }
  }

  .outer{
    background-color:#ffffff;
    width:100%;
    height:100%;
    border-radius:30px;
    display:flex;
    align-items:center;

    .area{
      margin:auto;
      width:60px;
      height:30px;
      background-color:white;
      border-radius:30px;
      position:relative;

      .indicator{
        position:absolute;
        top:1px;
        height:28px;
        width:28px;
        border-radius:50%;
        background-color:#ffffff;
      }
    }
  }
}

</style>
