!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(33),a=o(u),c=n(8),l=o(c),f=n(5),p=o(f);n(34),function(){var e=!0,t=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(a.default),n={version:null,start:function(o,r,i){function s(){c()}function u(e){"function"==typeof i&&i(),console.log("close_callback is called ---- %")}function a(e){"function"==typeof r&&r(e)}function c(){e&&console.info("%c === on speech ===","color:dodgerblue");try{var i=new t;window.navigator.speech[i.me.category]=i,n.version=i.version,o()}catch(e){console.error(e),r&&r(e)}}return"function"!=typeof o?("function"==typeof r&&r((new l.default).setMessage("A function is required as a parameter").throw()),!1):void window.speech.init(p.default.apps.getWidgetId(),s,u,a)}};window.navigator.speech=n}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),u=(o(s),function(){function e(){r(this,e),this.me={}}return i(e,[{key:"getClass",value:function(){return this.constructor.name}},{key:"clone",value:function(){}},{key:"getBaseContext",value:function(){return this}},{key:"equals",value:function(e){return this instanceof e.constructor}}]),e}());t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"configuration",DEBUG:!0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),c=o(a),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.me.types={},e.me.category=null,e.me.domain=null,e}return s(t,e),u(t,[{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(o,r){var i=function(e){o(e.value)},s=function(e){r(e)};window[t.me.domain].get(e,n,i,s)})}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(o,r){var i=function(e){o(e.value)},s=function(e){r(e)};window[t.me.domain].set(e,n,i,s)})}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].addListener(e,n,t)}},{key:"unsubscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].removeListener(e,t,n)}},{key:"unsubscribeAll",value:function(e){}},{key:"getType",value:function(e){return this.me.category+"_"+e}}]),t}(c.default);t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),u(t,[{key:"getWebSocket",value:function(){}}]),t}(c.default);t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default={name:"shared",apps:{getWidgetId:function(){var e=null;if(window.applicationFramework)if(window.applicationFramework.hasOwnProperty("applicationManager")){var t=window.applicationFramework.applicationManager.getOwnerApplication(window.document);e=t.getDescriptor().id}else console.log("window.applicationFramework does not have applicationManager");return e}},utils:{isNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?null===e&&"object"===("undefined"==typeof e?"undefined":n(e)):null===e},isNotNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?!(null===e&&"object"===("undefined"==typeof e?"undefined":n(e))):!(null===e)},isFunction:function(e){return"function"==typeof e},isNotFunction:function(e){return"function"!=typeof e}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),a=o(u),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(a.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),c=o(a),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.code=null,e.title=null,e.message=null,e}return s(t,e),u(t,[{key:"throw",value:function(){return{code:this.code,title:this.title,message:this.message}}},{key:"setMessage",value:function(e){return this.message=e,this}}]),t}(c.default);t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),a=o(u),c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.code=400,n.title="UnmatchedParameterTypeError",n.message=e,n}return s(t,e),t}(a.default);t.default=c},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),a=o(u),c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.me.domain="speech",e.version="1.0.0",e}return s(t,e),t}(a.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(32),c=o(a),l=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.me.category="tts",e.me.types.TTS_EVENT_SPEAK="speak",e.me.types.TTS_EVENT_PAUSE="pause",e.me.types.TTS_EVENT_RESUME="resume",e.me.types.TTS_EVENT_CANCEL="cancel",e.me.types.TTS_EVENT_TTS_STATE="ttsState",e.me.types.TTS_EVENT_MAX_LENGTH="maxLength",e.me.types.TTS_EVENT_AVAILABLE_LANGUAGE="availableLanguage",e.me.types.TTS_EVENT_PREFERENCES="preferences",e.me.types.TTS_EVENT_TTS_STATE="ttsState",e}return s(t,e),u(t,[{key:"speak",value:function(e){return this.set(this.getType(this.me.types.TTS_EVENT_SPEAK),e)}},{key:"pause",value:function(e){var t={};return"undefined"!=typeof e&&(t.sessionId=e),this.set(this.getType(this.me.types.TTS_EVENT_PAUSE),t)}},{key:"resume",value:function(e){var t={};return"undefined"!=typeof e&&(t.sessionId=e),this.set(this.getType(this.me.types.TTS_EVENT_RESUME),t)}},{key:"cancel",value:function(e){var t={};return"undefined"!=typeof e&&(t.sessionId=e),this.set(this.getType(this.me.types.TTS_EVENT_CANCEL),t)}},{key:"getState",value:function(e){var t={};return"undefined"!=typeof e&&(t.sessionId=e),this.get(this.getType(this.me.types.TTS_EVENT_TTS_STATE),t)}},{key:"getMaxInputLength",value:function(){return this.get(this.getType(this.me.types.TTS_EVENT_MAX_LENGTH))}},{key:"getAvailableLanguage",value:function(){return this.get(this.getType(this.me.types.TTS_EVENT_AVAILABLE_LANGUAGE))}},{key:"getPreferences",value:function(){return this.get(this.getType(this.me.types.TTS_EVENT_PREFERENCES))}},{key:"setPreferences",value:function(e){return this.set(this.getType(this.me.types.TTS_EVENT_PREFERENCES),e)}},{key:"addTtsStateListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.TTS_EVENT_TTS_STATE),e,t)}},{key:"removeTtsStateListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.TTS_EVENT_TTS_STATE),e)}},{key:"TtsPriorityEnum",get:function(){return{SPEECH_TTS_PRIORITY_IMPORTANT:0,SPEECH_TTS_PRIORITY_MESSAGE:1,SPEECH_TTS_PRIORITY_TEXT:2,SPEECH_TTS_PRIORITY_NOTIFICATION:3,SPEECH_TTS_PRIORITY_IN_PROGRESS:4}}},{key:"TtsVoiceRateEnum",get:function(){return{SPEECH_TTS_VOICE_RATE_SLOW:-100,SPEECH_TTS_VOICE_RATE_NORMAL:0,SPEECH_TTS_VOICE_RATE_FAST:100}}},{key:"TtsVolumeEnum",get:function(){return{SPEECH_TTS_VOLUME_DEEMPHASIZED:-100,SPEECH_TTS_VOLUME_NORMAL:100,SPEECH_TTS_VOLUME_EMPHASIZED:140}}},{key:"TtsVoicePitchEnum",get:function(){return{SPEECH_TTS_PITCH_LOW:-100,SPEECH_TTS_PITCH_NORMAL:0,SPEECH_TTS_PITCH_HIGH:100}}},{key:"TtsVoiceTypeEnum",get:function(){return{SPEECH_TTS_VOICE_TYPE_MALE:0,SPEECH_TTS_VOICE_TYPE_FEMALE:1,SPEECH_TTS_VOICE_TYPE_CHILD:2}}},{key:"TtsPunctuationEnum",get:function(){return{SPEECH_TTS_PUNCTUATION_ALL:0,SPEECH_TTS_PUNCTUATION_NONE:1,SPEECH_TTS_PUNCTUATION_SOME:2}}},{key:"TtsStateEnum",get:function(){return{SPEECH_TTS_STATE_NONE:0,SPEECH_TTS_STATE_IDLE:1,SPEECH_TTS_STATE_PLAYING:2,SPEECH_TTS_STATE_NEXT_LINE:3,SPEECH_TTS_STATE_FINISHED:4,SPEECH_TTS_STATE_CANCELLED:5,SPEECH_TTS_STATE_FAILED:6,SPEECH_TTS_STATE_PAUSED:7,SPEECH_TTS_STATE_RESUME:8}}}]),t}(c.default);t.default=l},function(e,t){"use strict";var n={};n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.AccessError=-32604,n.DuplicateListener=-32605,n.ServiceError=-32e3,n.UnknownError=-32001,n.ServerError=-32099;var o={};o.AccessUndetermined=20,o.AccessDeny=21,o.AccessPromptOneShot=22,o.AccessPromptSession=23,o.AccessPromptBlanket=24,o.JsonParsingError=30,o.JsonMessageValidateError=31,o.JsonVersionError=40,o.JsonMessageIdNotExistError=41,o.JsonMessageObjectNameNotExistError=42,o.JsonFunctionTypeError=43,o.JsonMessageFormateError=44,o.JsonFunctionEventTypeNotExistError=45,o.JsonFunctionMethodNotExistError=46,o.JsonFunctionIdNotExistError=47,o.JsonDuplicateAddlistenerError=55,o.MessageIdDismatch=60,o.MessageObjectDismatch=61,o.MessageUnknownEventType=62,o.MessageUnknownMethodType=63,o.MessageUnregListener=64,o.ServiceNotAvailable=80,o.SendError=90,o.CloseError=91;var r={};r.PromptOneShotDenyAlways=350,r.PromptOneShotDenyThisTime=351,r.PromptOneShotDenyAllowThisTime=352,r.PromptSessionDenyForThisSession=353,r.PromptSessionAllowForThisSession=354,r.PromptBlanketDenyForThisSession=355,r.PromptBlanketAllowForThisSession=356,r.PromptBlanketAllowAlways=357;var i=function(){this.priority,this.language,this.voiceRate,this.volume,this.voicePitch,this.voiceCategory};window.TtsPlayData=i;var s=function(){this.text,this.info};window.TtsSpeakData=s;var u=function(){this.language,this.voiceType,this.punctuation,this.voiceRate,this.volume,this.voicePitch};window.TtsPreferencesData=u;var a=function(){this.state,this.sessionId};window.TtsStateData=a,function(){var e="speech",t=1001,o=1002,r=1003,i=1004,a=1005,c={jsonrpc:2,app_id:null,id:null,method:""},l=null,f=null,p={lst:{},push:function(e,t,n,o){var r={};return r.id=window.performance.now().toString(),r.type=e,r.method=t,r.handle1=n,r.handle2=o,this.lst[r.id]=r,r.id},pop:function(e){var t=this.lst[e];return t&&delete this.lst[e],t},clear:function(){this.lst={}}},_={lst:{},push:function(e,t){t&&(this.lst[e]?this.lst[e].push(t):this.lst[e]=[t])},pop:function(e,t){if(t){var n=this.lst[e];if(n)for(var o=0;o<n.length;o++)if(n[o]==t)return n.splice(o,1),void(0==n.length&&(this.lst[e]=void 0))}},get:function(e){return this.lst[e]},clear:function(){this.lst={}}},h=function(e,t){null!=e&&e(t)},y={msg_type:0,method_type:"",event_type:null,json:"",init:function(e){this.json=JSON.parse(e);var n=null,s=null,u=null,c=null;try{n=this.json.result}catch(e){console.log(e)}try{s=this.json.id}catch(e){console.log(e)}try{u=this.json.error}catch(e){console.log(e)}try{c=this.json.app_id}catch(e){console.log(e)}n?s?this.msg_type=o:c?this.msg_type=r:this.msg_type=i:u?this.msg_type=a:c&&(console.log("REQUEST MESSAGE"),this.msg_type=t);var l=this.json.method.split(".");l.length;3==l.length?(this.method_type=l[1],this.event_type=l[2]):2==l.length&&(this.method_type="get",this.event_type=l[1]),this.msg_type==i||"addListener"!=this.method_type&&"removeListener"!=this.method_type||(this.msg_type=r)}},d=function(){var t=new WebSocket("ws://localhost:18892/webapp/"+e);return t.onmessage=function(e){var t=y;if(t.init(e.data),t.msg_type==o){var n=p.pop(t.json.id);n&&n.handle1&&n.handle1(t.json.result)}else if(t.msg_type==a){var s=p.pop(t.json.id);s&&s.handle2&&s.handle2(t.json.error)}else if(t.msg_type==r){if("addListener"==t.method_type){var u=_.get(t.event_type);for(var c in u)t.json.result?u[c](t.json.result.value):t.json.error?u[c](t.json.error):console.log("undefine result")}}else t.msg_type==i?l&&l(t.json.result):console.log("unknown json message")},t.send_data=function(e,t){return 1==f.readyState&&(t?e.params=t:e.params&&delete e.params,f.send(JSON.stringify(e)),!0)},t},E={tts_speak:"tts_speak",tts_pause:"tts_pause",tts_resume:"tts_resume",tts_cancel:"tts_cancel",tts_ttsState:"tts_ttsState",tts_maxLength:"tts_maxLength",tts_availableLanguage:"tts_availableLanguage",tts_preferences:"tts_preferences",get:function(t,n,o,r){var i=c;return null==o?i.id=window.performance.now().toString():i.id=p.push(t,"get",o,r),i.method=e+".get."+t,f.send_data(i,n)},set:function(t,o,r,i){if(t==this.tts_speak&&o){if(o instanceof s==0)return h(i,{code:n.InvalidParams,message:"Invalid params"}),!1}else if(t==this.tts_preferences&&o&&o instanceof u==0)return h(i,{code:n.InvalidParams,message:"Invalid params"}),!1;var a=c;return null==r?a.id=window.performance.now().toString():a.id=p.push(t,"set",r,i),a.method=e+".set."+t,f.send_data(a,o)},query:function(t,n,o,r){var i=c;return null==o?i.id=window.performance.now().toString():i.id=p.push(t,"query",o,r),i.method=e+".query."+t,f.send_data(i,n)},addListener:function(t,n,o){if(o){_.push(t,o);var r=_.get(t);if(r&&1==r.length){var i=c;return i.method=e+".addListener."+t,f.send_data(i,n)}return!0}return!1},removeListener:function(t,n){if(n){if(_.pop(t,n),_.get(t))return!0;var o=c;return o.method=e+".removeListener."+t,f.send_data(o,null)}return!1},init:function(e,t,n,o){f=d(),e&&(c.app_id=e),t&&(f.onopen=t),n&&(f.onclose=n),o&&(l=o)},reset:function(e,t,n,o){f.close(),p.clear(),_.clear(),f=d(),e&&(c.app_id=e),t&&(f.onopen=t),n&&(f.onclose=n),o&&(l=o)},version:function(){return"1.0.0"}};window.speech=E}()}]);